@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --primary: #EA580C;
  --primary-dark: #C2410C;
  --primary-light: #FB923C;
  --secondary: #1C1917;
  --accent: #F59E0B;
  --accent-gold: #D97706;
  --background: #FAFAF9;
  --background-dark: #0C0A09;
  --success: #10B981;
  --error: #EF4444;
  --border: #E7E5E4;
  --announcement-bar-h: 0px;
}

@layer base {
  :root {
    --background: 40 6% 98%;
    --foreground: 24 10% 10%;
    --card: 0 0% 100%;
    --card-foreground: 24 10% 10%;
    --popover: 0 0% 100%;
    --popover-foreground: 24 10% 10%;
    --primary: 21 90% 48%;
    --primary-foreground: 0 0% 100%;
    --secondary: 24 10% 10%;
    --secondary-foreground: 40 6% 98%;
    --muted: 40 6% 94%;
    --muted-foreground: 24 6% 45%;
    --accent: 38 92% 50%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 24 6% 90%;
    --input: 24 6% 90%;
    --ring: 21 90% 48%;
    --radius: 0.75rem;
    --chart-1: 21 90% 48%;
    --chart-2: 38 92% 50%;
    --chart-3: 142 71% 45%;
    --chart-4: 24 10% 10%;
    --chart-5: 24 6% 45%;
  }

  .dark {
    --background: 20 14% 4%;
    --foreground: 40 6% 90%;
    --card: 24 10% 10%;
    --card-foreground: 40 6% 90%;
    --popover: 24 10% 10%;
    --popover-foreground: 40 6% 90%;
    --primary: 21 90% 48%;
    --primary-foreground: 0 0% 100%;
    --secondary: 40 6% 90%;
    --secondary-foreground: 24 10% 10%;
    --muted: 24 10% 16%;
    --muted-foreground: 24 6% 60%;
    --accent: 38 92% 50%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 24 10% 20%;
    --input: 24 10% 20%;
    --ring: 21 90% 48%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', sans-serif;
    padding-top: var(--announcement-bar-h, 0px);
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Manrope', sans-serif;
    @apply font-bold tracking-tight;
  }
  
  code, pre {
    font-family: 'JetBrains Mono', monospace;
  }
}

@layer components {
  .btn-primary {
    background-color: #EA580C !important;
    color: white !important;
    font-weight: 700 !important;
    @apply px-8 py-3 rounded-full transition-all duration-200 active:scale-95 shadow-lg hover:shadow-xl hover:shadow-orange-500/20;
  }
  
  .btn-primary:hover {
    background-color: #C2410C !important;
  }
  
  .btn-secondary {
    @apply bg-white text-stone-900 border border-stone-200 hover:bg-stone-50 hover:border-[#EA580C]/30 font-medium px-8 py-3 rounded-full transition-all duration-200;
  }
  
  .btn-gold {
    @apply bg-gradient-to-r from-[#F59E0B] to-[#D97706] text-white font-bold px-8 py-3 rounded-full transition-all duration-200 active:scale-95 shadow-lg hover:shadow-xl hover:shadow-amber-500/30;
  }
  
  .card-dashboard {
    @apply bg-white border border-stone-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200;
  }
  
  .card-feature {
    @apply relative overflow-hidden bg-stone-50 rounded-2xl p-8 border border-stone-200 hover:border-[#EA580C]/50 transition-all duration-200;
  }
  
  .input-field {
    @apply w-full bg-white border border-stone-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-[#EA580C]/20 focus:border-[#EA580C] outline-none transition-all duration-200;
  }
  
  .sidebar-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl text-stone-500 hover:text-[#EA580C] hover:bg-orange-50 transition-all duration-200;
  }
  
  .sidebar-item-active {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl bg-[#EA580C] text-white shadow-lg shadow-orange-500/20;
  }
  
  .status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
  }
  
  .status-pending {
    @apply bg-amber-100 text-amber-700;
  }
  
  .status-approved {
    @apply bg-emerald-100 text-emerald-700;
  }
  
  .status-rejected {
    @apply bg-red-100 text-red-700;
  }
  
  .status-completed {
    @apply bg-emerald-100 text-emerald-700;
  }
  
  .glass-effect {
    @apply bg-white backdrop-blur-xl border border-stone-200 shadow-sm;
  }
  
  .glass-dark {
    @apply bg-stone-900 backdrop-blur-xl border border-stone-700 shadow-lg;
  }
  
  .gradient-text {
    @apply bg-gradient-to-r from-[#EA580C] to-[#F59E0B] bg-clip-text text-transparent;
  }
  
  .glow-orange {
    box-shadow: 0 0 30px rgba(234, 88, 12, 0.3);
  }
  
  .glow-gold {
    box-shadow: 0 0 30px rgba(245, 158, 11, 0.4);
  }
}

/* Announcement marquee (scroll left) */
@keyframes announcement-marquee-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.announcement-marquee {
  overflow: hidden;
  white-space: nowrap;
}

.announcement-marquee__inner {
  display: inline-flex;
  align-items: center;
  gap: 2.5rem;
  width: max-content;
  will-change: transform;
  animation: announcement-marquee-left var(--announcement-marquee-duration, 18s) linear infinite;
}

.announcement-marquee__content {
  display: inline-flex;
  align-items: center;
  gap: 2.5rem;
}

@media (prefers-reduced-motion: reduce) {
  .announcement-marquee__inner {
    animation: none;
    transform: none;
  }
}

/* Wallet Cards */
.wallet-card-htg {
  background: linear-gradient(135deg, #EA580C 0%, #C2410C 100%);
  border-radius: 1.25rem;
  padding: 1.5rem;
  color: white;
  position: relative;
  overflow: hidden;
}

.wallet-card-htg::before {
  content: '';
  position: absolute;
  top: -30%;
  right: -20%;
  width: 60%;
  height: 120%;
  background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 60%);
  pointer-events: none;
}

.wallet-card-usd {
  background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
  border-radius: 1.25rem;
  padding: 1.5rem;
  color: white;
  position: relative;
  overflow: hidden;
}

.wallet-card-usd::before {
  content: '';
  position: absolute;
  top: -30%;
  right: -20%;
  width: 60%;
  height: 120%;
  background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 60%);
  pointer-events: none;
}

/* Virtual Card */
.virtual-card {
  background: linear-gradient(135deg, #1C1917 0%, #292524 50%, #1C1917 100%);
  border-radius: 1rem;
  padding: 1.5rem;
  color: white;
  position: relative;
  overflow: hidden;
  aspect-ratio: 1.586;
}

.virtual-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 80%, rgba(234, 88, 12, 0.3) 0%, transparent 40%),
    radial-gradient(circle at 80% 20%, rgba(245, 158, 11, 0.2) 0%, transparent 40%);
  pointer-events: none;
}

/* Sidebar */
.sidebar {
  background: white;
  width: 280px;
  height: calc(100vh - var(--announcement-bar-h, 0px));
  position: fixed;
  left: 0;
  top: var(--announcement-bar-h, 0px);
  z-index: 40;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  border-right: 1px solid #E7E5E4;
  overflow: hidden;
}

.dark .sidebar {
  background: #1c1917;
  border-right-color: #44403c;
}

.main-content {
  margin-left: 280px;
  min-height: 100vh;
  background: #FAFAF9;
  width: calc(100% - 280px);
}

.dark .main-content {
  background: #0c0a09;
}

@media (max-width: 1024px) {
  .sidebar {
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }
  
  .sidebar.open {
    transform: translateX(0);
  }
  
  .main-content {
    margin-left: 0;
    width: 100%;
    padding-left: 0;
    padding-right: 0;
  }
}

/* Mobile centering fixes */
@media (max-width: 640px) {
  .main-content > div {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  .max-w-xl, .max-w-md, .max-w-2xl, .max-w-4xl {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
  }
}

/* Logo Component */
.logo-text {
  font-family: 'Manrope', sans-serif;
  font-weight: 800;
  letter-spacing: -0.02em;
}

.logo-kayi {
  color: #EA580C;
}

.logo-com {
  color: #1C1917;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(234, 88, 12, 0.3); }
  50% { box-shadow: 0 0 40px rgba(234, 88, 12, 0.5); }
}

.animate-fade-in { animation: fadeIn 0.5s ease-out; }
.animate-slide-up { animation: slideUp 0.5s ease-out; }
.animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

/* Scrollbar */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: #F5F5F4; border-radius: 4px; }
::-webkit-scrollbar-thumb { background: #D6D3D1; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #A8A29E; }

/* Selection */
::selection {
  background-color: #EA580C;
  color: white;
}

/* Focus */
*:focus-visible {
  outline: 2px solid #EA580C;
  outline-offset: 2px;
}

/* Number input */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type="number"] { -moz-appearance: textfield; }

/* Amount input */
.amount-input {
  @apply text-4xl font-bold text-center bg-transparent border-none outline-none w-full;
}
.amount-input::placeholder { @apply text-stone-300; }

/* Data tables */
.data-table { @apply w-full; }
.data-table th { @apply text-left text-xs font-semibold text-stone-500 uppercase tracking-wider py-3 px-4 border-b border-stone-200; }
.data-table td { @apply py-4 px-4 border-b border-stone-100; }
.data-table tr:hover td { @apply bg-orange-50/50; }

/* File upload */
.file-upload-zone {
  @apply border-2 border-dashed border-stone-300 rounded-xl p-8 text-center cursor-pointer hover:border-[#EA580C] hover:bg-orange-50 transition-all duration-200;
}

/* Mobile menu */
.mobile-menu-btn {
  @apply lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-xl shadow-md border border-stone-200;
}

/* Sidebar navigation scrollbar */
.sidebar nav::-webkit-scrollbar {
  width: 6px;
}

.sidebar nav::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar nav::-webkit-scrollbar-thumb {
  background: #D6D3D1;
  border-radius: 3px;
}

.sidebar nav::-webkit-scrollbar-thumb:hover {
  background: #A8A29E;
}

/* PWA & Performance Optimizations */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scroll-behavior: smooth;
}

/* Prevent pull-to-refresh on mobile */
body {
  overscroll-behavior-y: contain;
}

/* GPU acceleration for smooth animations */
.wallet-card-htg,
.wallet-card-usd,
.virtual-card,
.card-feature,
.btn-primary,
.btn-gold {
  will-change: transform;
  transform: translateZ(0);
}

/* Smooth touch scrolling */
* {
  -webkit-overflow-scrolling: touch;
}

/* Better tap targets for mobile */
button, a, [role="button"] {
  min-height: 44px;
  min-width: 44px;
}

/* Hide tap highlight on mobile */
a, button, input, select, textarea {
  -webkit-tap-highlight-color: transparent;
}

/* Safe area padding for notched devices */
.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-area-inset-top {
  padding-top: env(safe-area-inset-top, 0);
}

/* Dark mode wallet cards */
.dark .wallet-card-htg {
  box-shadow: 0 10px 40px -10px rgba(234, 88, 12, 0.4);
}

.dark .wallet-card-usd {
  box-shadow: 0 10px 40px -10px rgba(245, 158, 11, 0.4);
}

/* Total Balance Hero Card */
.total-balance-card {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  transition: all 0.3s ease;
}

.total-balance-card:hover {
  box-shadow: 0 25px 50px -12px rgba(234, 88, 12, 0.25);
  transform: translateY(-2px);
}

/* Mobile Bottom Navigation */
.mobile-bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 50;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-top: 1px solid #E7E5E4;
  padding: 0.5rem 0.5rem calc(0.5rem + env(safe-area-inset-bottom, 0));
}

.dark .mobile-bottom-nav {
  background: rgba(28, 25, 23, 0.95);
  border-top-color: #44403c;
}

.mobile-bottom-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-radius: 0.75rem;
  color: #78716c;
  transition: all 0.2s ease;
  min-width: 0;
}

.mobile-bottom-nav-item:hover {
  color: #EA580C;
  background: rgba(234, 88, 12, 0.1);
}

.mobile-bottom-nav-item.active {
  color: #EA580C;
  background: rgba(234, 88, 12, 0.1);
}

.mobile-bottom-nav-item span {
  font-size: 0.65rem;
  font-weight: 500;
  margin-top: 0.25rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* Add padding to main content when mobile nav is visible */
@media (max-width: 1024px) {
  .has-mobile-nav .main-content {
    padding-bottom: calc(4.5rem + env(safe-area-inset-bottom, 0));
  }
}

/* PWA Install banner styles */
.pwa-install-banner {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 9999;
  background: linear-gradient(to right, #1c1917, #292524, #1c1917);
  border-top: 1px solid #44403c;
  padding: 12px 16px;
  animation: slideUp 0.4s ease-out;
}

/* Loading skeleton animation */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton {
  background: linear-gradient(90deg, #e5e5e5 25%, #f5f5f5 50%, #e5e5e5 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

.dark .skeleton {
  background: linear-gradient(90deg, #292524 25%, #3f3f3f 50%, #292524 75%);
  background-size: 200% 100%;
}

/* Improved focus states for accessibility */
.focus-ring {
  @apply focus:ring-2 focus:ring-[#EA580C]/50 focus:ring-offset-2 focus:outline-none;
}

/* Better button states */
button:active:not(:disabled) {
  transform: scale(0.98);
}

/* Card hover effects */
.card-hover {
  transition: all 0.2s ease;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
}

/* Balance display */
.balance-display {
  font-variant-numeric: tabular-nums;
  font-feature-settings: 'tnum';
}

/* Notification dot */
.notification-dot {
  @apply absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white;
}

/* Status indicator pulse */
.status-online {
  @apply relative;
}

.status-online::after {
  content: '';
  @apply absolute w-2 h-2 bg-emerald-500 rounded-full;
  animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.5; }
}

/* Enhanced Micro-animations */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 15px rgba(234, 88, 12, 0.2); }
  50% { box-shadow: 0 0 30px rgba(234, 88, 12, 0.4); }
}

@keyframes subtle-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

.animate-float { animation: float 3s ease-in-out infinite; }
.animate-glow-pulse { animation: glow-pulse 2s ease-in-out infinite; }
.animate-subtle-bounce { animation: subtle-bounce 2s ease-in-out infinite; }

/* Enhanced Glassmorphism */
.glass-card {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
}

.dark .glass-card {
  background: rgba(28, 25, 23, 0.7);
  border-color: rgba(255, 255, 255, 0.1);
}

/* Hover lift effect */
.hover-lift {
  transition: all 0.3s ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
}

/* Interactive button press */
.btn-press {
  transition: transform 0.1s ease;
}

.btn-press:active {
  transform: scale(0.96);
}

/* Stagger animation for lists */
.stagger-item {
  opacity: 0;
  animation: fadeIn 0.4s ease-out forwards;
}

.stagger-item:nth-child(1) { animation-delay: 0.05s; }
.stagger-item:nth-child(2) { animation-delay: 0.1s; }
.stagger-item:nth-child(3) { animation-delay: 0.15s; }
.stagger-item:nth-child(4) { animation-delay: 0.2s; }
.stagger-item:nth-child(5) { animation-delay: 0.25s; }
.stagger-item:nth-child(6) { animation-delay: 0.3s; }

/* Card entrance animation */
@keyframes cardEntrance {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.card-entrance {
  animation: cardEntrance 0.5s ease-out forwards;
}
